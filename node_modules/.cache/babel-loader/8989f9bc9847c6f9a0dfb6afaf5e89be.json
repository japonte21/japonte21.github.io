{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport { useEffect } from 'react';\nimport chroma from 'chroma-js';\nexport var getEventPosition = function getEventPosition(location, container) {\n  var x = location.x,\n      y = location.y;\n\n  var _container$getBoundin = container.getBoundingClientRect(),\n      width = _container$getBoundin.width,\n      height = _container$getBoundin.height,\n      left = _container$getBoundin.left,\n      top = _container$getBoundin.top;\n\n  var leftPos = x - (left + window.pageXOffset);\n  var topPos = y - (top + window.pageYOffset);\n\n  if (leftPos < 0) {\n    leftPos = 0;\n  } else if (leftPos > width) {\n    leftPos = width;\n  }\n\n  if (topPos < 0) {\n    topPos = 0;\n  } else if (topPos > height) {\n    topPos = height;\n  }\n\n  return {\n    left: leftPos,\n    top: topPos,\n    width: width,\n    height: height\n  };\n};\nexport var throttle = function throttle(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n  var time = Date.now();\n  return function () {\n    if (time + wait - Date.now() < 0) {\n      fn.apply(void 0, arguments);\n      time = Date.now();\n    }\n  };\n};\nexport function isMouseEvent(event) {\n  return _typeof(event) === 'object' && 'pageX' in event && 'pageY' in event;\n}\nexport function useMouseMove(handleChange) {\n  var interactionConditional = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  useEffect(function () {\n    return unbindEventListeners;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var handleInteraction = function handleInteraction(e, isFirstInteraction) {\n    if (e) {\n      if (interactionConditional) {\n        var x = isMouseEvent(e) ? e.pageX : e.touches[0].pageX;\n        var y = isMouseEvent(e) ? e.pageY : e.touches[0].pageY;\n        handleChange({\n          x: x,\n          y: y\n        }, isFirstInteraction);\n      }\n    }\n  };\n\n  var handleMouseMove = throttle(function (e) {\n    handleChange({\n      x: e.pageX,\n      y: e.pageY\n    }, false);\n  });\n\n  var handleMouseDown = function handleMouseDown(e) {\n    handleInteraction(e, true);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', unbindEventListeners);\n  };\n\n  var unbindEventListeners = function unbindEventListeners() {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', unbindEventListeners);\n  };\n\n  return [handleMouseDown, handleInteraction];\n}\nexport var HEX_FALLBACK = '';\nexport var HSV_FALLBACK = [0, 0, 0];\nexport var RGB_FALLBACK = [NaN, NaN, NaN, 1];\nexport var RGB_JOIN = ', '; // Given a string, this attempts to return a format that can be consumed by chroma-js\n\nexport var parseColor = function parseColor(input) {\n  var parsed;\n  if (!input) return null;\n\n  if (input.indexOf(',') > 0) {\n    if (!/^[\\s,.0-9]*$/.test(input)) {\n      return null;\n    }\n\n    var rgb = input.trim().split(',').filter(function (n) {\n      return n !== '';\n    }).map(Number);\n    parsed = rgb.length > 2 && rgb.length < 5 ? rgb : HEX_FALLBACK;\n  } else {\n    parsed = input;\n  }\n\n  return parsed;\n}; // Returns whether the given input will return a valid chroma-js object when designated as one of\n// the acceptable formats: hex, rgb, rgba\n\nexport var chromaValid = function chromaValid(color) {\n  var parsed = color;\n\n  if (typeof color === 'string') {\n    parsed = parseColor(color);\n  }\n\n  if (!parsed) return false;\n\n  if (_typeof(parsed) === 'object') {\n    return chroma.valid(parsed, 'rgb') || chroma.valid(parsed, 'rgba');\n  }\n\n  return chroma.valid(color, 'hex');\n}; // Given an input and opacity configuration, this returns a valid chroma-js object\n\nexport var getChromaColor = function getChromaColor(input) {\n  var allowOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var parsed = parseColor(input);\n\n  if (parsed && chromaValid(parsed)) {\n    // type guard for the function overload\n    var chromaColor = _typeof(parsed) === 'object' ? chroma(parsed) : chroma(parsed);\n\n    if (!allowOpacity && chromaColor.alpha() < 1) {\n      return null;\n    }\n\n    return chromaColor;\n  }\n\n  return null;\n}; // Given an array of objects with key value pairs stop/color returns a css linear-gradient\n// Or given an array of hex colors returns a css linear-gradient\n\nexport var getLinearGradient = function getLinearGradient(palette) {\n  var intervals = palette.length;\n  var linearGradient;\n  var paletteHasStops = palette.some(function (item) {\n    return _typeof(item) === 'object';\n  });\n\n  if (paletteHasStops) {\n    var paletteColorStop = palette;\n    linearGradient = \"linear-gradient(to right, \".concat(paletteColorStop[0].color, \" 0%,\");\n    var decimal = 100 / paletteColorStop[paletteColorStop.length - 1].stop;\n\n    for (var i = 1; i < intervals - 1; i++) {\n      linearGradient = \"\".concat(linearGradient, \" \").concat(paletteColorStop[i].color, \" \").concat(Math.floor(paletteColorStop[i].stop * decimal), \"%,\");\n    }\n\n    var linearGradientStyle = \"\".concat(linearGradient, \" \").concat(paletteColorStop[palette.length - 1].color, \" 100%)\");\n    return linearGradientStyle;\n  } else {\n    linearGradient = \"linear-gradient(to right, \".concat(palette[0], \" 0%,\");\n\n    for (var _i = 1; _i < intervals - 1; _i++) {\n      linearGradient = \"\".concat(linearGradient, \" \").concat(palette[_i], \" \").concat(Math.floor(100 * _i / (intervals - 1)), \"%,\");\n    }\n\n    var _linearGradientStyle = \"\".concat(linearGradient, \" \").concat(palette[palette.length - 1], \" 100%)\");\n\n    return _linearGradientStyle;\n  }\n}; // Given an array of hex colors returns a css linear-gradient with individual color blocks\n\nexport var getFixedLinearGradient = function getFixedLinearGradient(palette) {\n  var intervals = palette.length;\n  var fixedLinearGradient;\n\n  for (var i = 0; i < intervals; i++) {\n    var initialColorStop = \"\".concat(palette[0], \" 0%, \").concat(palette[0], \" \").concat(Math.floor(100 * 1 / intervals), \"%\");\n    var colorStop = \"\".concat(palette[i], \" \").concat(Math.floor(100 * i / intervals), \"%, \").concat(palette[i], \" \").concat(Math.floor(100 * (i + 1) / intervals), \"%\");\n\n    if (i === 0) {\n      fixedLinearGradient = \"linear-gradient(to right, \".concat(initialColorStop, \",\");\n    } else if (i === palette.length - 1) {\n      fixedLinearGradient = \"\".concat(fixedLinearGradient, \" \").concat(colorStop, \")\");\n    } else {\n      fixedLinearGradient = \"\".concat(fixedLinearGradient, \" \").concat(colorStop, \",\");\n    }\n  }\n\n  return fixedLinearGradient;\n};","map":{"version":3,"sources":["/Users/cb12/WSO/personal-website-react/node_modules/@elastic/eui/es/components/color_picker/utils.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","useEffect","chroma","getEventPosition","location","container","x","y","_container$getBoundin","getBoundingClientRect","width","height","left","top","leftPos","window","pageXOffset","topPos","pageYOffset","throttle","fn","wait","arguments","length","undefined","time","Date","now","apply","isMouseEvent","event","useMouseMove","handleChange","interactionConditional","unbindEventListeners","handleInteraction","e","isFirstInteraction","pageX","touches","pageY","handleMouseMove","handleMouseDown","document","addEventListener","removeEventListener","HEX_FALLBACK","HSV_FALLBACK","RGB_FALLBACK","NaN","RGB_JOIN","parseColor","input","parsed","indexOf","test","rgb","trim","split","filter","n","map","Number","chromaValid","color","valid","getChromaColor","allowOpacity","chromaColor","alpha","getLinearGradient","palette","intervals","linearGradient","paletteHasStops","some","item","paletteColorStop","concat","decimal","stop","i","Math","floor","linearGradientStyle","_i","_linearGradientStyle","getFixedLinearGradient","fixedLinearGradient","initialColorStop","colorStop"],"mappings":"AAAA,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,MAAI,OAAOC,MAAP,KAAkB,UAAlB,IAAgC,OAAOA,MAAM,CAACC,QAAd,KAA2B,QAA/D,EAAyE;AAAEH,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAO,OAAOA,GAAd;AAAoB,KAAtD;AAAyD,GAApI,MAA0I;AAAED,IAAAA,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAAE,aAAOA,GAAG,IAAI,OAAOC,MAAP,KAAkB,UAAzB,IAAuCD,GAAG,CAACG,WAAJ,KAAoBF,MAA3D,IAAqED,GAAG,KAAKC,MAAM,CAACG,SAApF,GAAgG,QAAhG,GAA2G,OAAOJ,GAAzH;AAA+H,KAAjK;AAAoK;;AAAC,SAAOD,OAAO,CAACC,GAAD,CAAd;AAAsB;AAE/V;;;;;;;;;;;;;;;;;;;;AAkBA,SAASK,SAAT,QAA0B,OAA1B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAO,IAAIC,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,QAA1B,EAAoCC,SAApC,EAA+C;AAC3E,MAAIC,CAAC,GAAGF,QAAQ,CAACE,CAAjB;AAAA,MACIC,CAAC,GAAGH,QAAQ,CAACG,CADjB;;AAGA,MAAIC,qBAAqB,GAAGH,SAAS,CAACI,qBAAV,EAA5B;AAAA,MACIC,KAAK,GAAGF,qBAAqB,CAACE,KADlC;AAAA,MAEIC,MAAM,GAAGH,qBAAqB,CAACG,MAFnC;AAAA,MAGIC,IAAI,GAAGJ,qBAAqB,CAACI,IAHjC;AAAA,MAIIC,GAAG,GAAGL,qBAAqB,CAACK,GAJhC;;AAMA,MAAIC,OAAO,GAAGR,CAAC,IAAIM,IAAI,GAAGG,MAAM,CAACC,WAAlB,CAAf;AACA,MAAIC,MAAM,GAAGV,CAAC,IAAIM,GAAG,GAAGE,MAAM,CAACG,WAAjB,CAAd;;AAEA,MAAIJ,OAAO,GAAG,CAAd,EAAiB;AACfA,IAAAA,OAAO,GAAG,CAAV;AACD,GAFD,MAEO,IAAIA,OAAO,GAAGJ,KAAd,EAAqB;AAC1BI,IAAAA,OAAO,GAAGJ,KAAV;AACD;;AAED,MAAIO,MAAM,GAAG,CAAb,EAAgB;AACdA,IAAAA,MAAM,GAAG,CAAT;AACD,GAFD,MAEO,IAAIA,MAAM,GAAGN,MAAb,EAAqB;AAC1BM,IAAAA,MAAM,GAAGN,MAAT;AACD;;AAED,SAAO;AACLC,IAAAA,IAAI,EAAEE,OADD;AAELD,IAAAA,GAAG,EAAEI,MAFA;AAGLP,IAAAA,KAAK,EAAEA,KAHF;AAILC,IAAAA,MAAM,EAAEA;AAJH,GAAP;AAMD,CA/BM;AAgCP,OAAO,IAAIQ,QAAQ,GAAG,SAASA,QAAT,CAAkBC,EAAlB,EAAsB;AAC1C,MAAIC,IAAI,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAA/E;AACA,MAAIG,IAAI,GAAGC,IAAI,CAACC,GAAL,EAAX;AACA,SAAO,YAAY;AACjB,QAAIF,IAAI,GAAGJ,IAAP,GAAcK,IAAI,CAACC,GAAL,EAAd,GAA2B,CAA/B,EAAkC;AAChCP,MAAAA,EAAE,CAACQ,KAAH,CAAS,KAAK,CAAd,EAAiBN,SAAjB;AACAG,MAAAA,IAAI,GAAGC,IAAI,CAACC,GAAL,EAAP;AACD;AACF,GALD;AAMD,CATM;AAUP,OAAO,SAASE,YAAT,CAAsBC,KAAtB,EAA6B;AAClC,SAAOnC,OAAO,CAACmC,KAAD,CAAP,KAAmB,QAAnB,IAA+B,WAAWA,KAA1C,IAAmD,WAAWA,KAArE;AACD;AACD,OAAO,SAASC,YAAT,CAAsBC,YAAtB,EAAoC;AACzC,MAAIC,sBAAsB,GAAGX,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,IAAjG;AACArB,EAAAA,SAAS,CAAC,YAAY;AACpB,WAAOiC,oBAAP;AACD,GAFQ,EAEN,EAFM,CAAT,CAFyC,CAIjC;;AAER,MAAIC,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,CAA3B,EAA8BC,kBAA9B,EAAkD;AACxE,QAAID,CAAJ,EAAO;AACL,UAAIH,sBAAJ,EAA4B;AAC1B,YAAI3B,CAAC,GAAGuB,YAAY,CAACO,CAAD,CAAZ,GAAkBA,CAAC,CAACE,KAApB,GAA4BF,CAAC,CAACG,OAAF,CAAU,CAAV,EAAaD,KAAjD;AACA,YAAI/B,CAAC,GAAGsB,YAAY,CAACO,CAAD,CAAZ,GAAkBA,CAAC,CAACI,KAApB,GAA4BJ,CAAC,CAACG,OAAF,CAAU,CAAV,EAAaC,KAAjD;AACAR,QAAAA,YAAY,CAAC;AACX1B,UAAAA,CAAC,EAAEA,CADQ;AAEXC,UAAAA,CAAC,EAAEA;AAFQ,SAAD,EAGT8B,kBAHS,CAAZ;AAID;AACF;AACF,GAXD;;AAaA,MAAII,eAAe,GAAGtB,QAAQ,CAAC,UAAUiB,CAAV,EAAa;AAC1CJ,IAAAA,YAAY,CAAC;AACX1B,MAAAA,CAAC,EAAE8B,CAAC,CAACE,KADM;AAEX/B,MAAAA,CAAC,EAAE6B,CAAC,CAACI;AAFM,KAAD,EAGT,KAHS,CAAZ;AAID,GAL6B,CAA9B;;AAOA,MAAIE,eAAe,GAAG,SAASA,eAAT,CAAyBN,CAAzB,EAA4B;AAChDD,IAAAA,iBAAiB,CAACC,CAAD,EAAI,IAAJ,CAAjB;AACAO,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCH,eAAvC;AACAE,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqCV,oBAArC;AACD,GAJD;;AAMA,MAAIA,oBAAoB,GAAG,SAASA,oBAAT,GAAgC;AACzDS,IAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CJ,eAA1C;AACAE,IAAAA,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwCX,oBAAxC;AACD,GAHD;;AAKA,SAAO,CAACQ,eAAD,EAAkBP,iBAAlB,CAAP;AACD;AACD,OAAO,IAAIW,YAAY,GAAG,EAAnB;AACP,OAAO,IAAIC,YAAY,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAAnB;AACP,OAAO,IAAIC,YAAY,GAAG,CAACC,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgB,CAAhB,CAAnB;AACP,OAAO,IAAIC,QAAQ,GAAG,IAAf,C,CAAqB;;AAE5B,OAAO,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,KAApB,EAA2B;AACjD,MAAIC,MAAJ;AACA,MAAI,CAACD,KAAL,EAAY,OAAO,IAAP;;AAEZ,MAAIA,KAAK,CAACE,OAAN,CAAc,GAAd,IAAqB,CAAzB,EAA4B;AAC1B,QAAI,CAAC,eAAeC,IAAf,CAAoBH,KAApB,CAAL,EAAiC;AAC/B,aAAO,IAAP;AACD;;AAED,QAAII,GAAG,GAAGJ,KAAK,CAACK,IAAN,GAAaC,KAAb,CAAmB,GAAnB,EAAwBC,MAAxB,CAA+B,UAAUC,CAAV,EAAa;AACpD,aAAOA,CAAC,KAAK,EAAb;AACD,KAFS,EAEPC,GAFO,CAEHC,MAFG,CAAV;AAGAT,IAAAA,MAAM,GAAGG,GAAG,CAACjC,MAAJ,GAAa,CAAb,IAAkBiC,GAAG,CAACjC,MAAJ,GAAa,CAA/B,GAAmCiC,GAAnC,GAAyCV,YAAlD;AACD,GATD,MASO;AACLO,IAAAA,MAAM,GAAGD,KAAT;AACD;;AAED,SAAOC,MAAP;AACD,CAlBM,C,CAkBJ;AACH;;AAEA,OAAO,IAAIU,WAAW,GAAG,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AACnD,MAAIX,MAAM,GAAGW,KAAb;;AAEA,MAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC7BX,IAAAA,MAAM,GAAGF,UAAU,CAACa,KAAD,CAAnB;AACD;;AAED,MAAI,CAACX,MAAL,EAAa,OAAO,KAAP;;AAEb,MAAI1D,OAAO,CAAC0D,MAAD,CAAP,KAAoB,QAAxB,EAAkC;AAChC,WAAOnD,MAAM,CAAC+D,KAAP,CAAaZ,MAAb,EAAqB,KAArB,KAA+BnD,MAAM,CAAC+D,KAAP,CAAaZ,MAAb,EAAqB,MAArB,CAAtC;AACD;;AAED,SAAOnD,MAAM,CAAC+D,KAAP,CAAaD,KAAb,EAAoB,KAApB,CAAP;AACD,CAdM,C,CAcJ;;AAEH,OAAO,IAAIE,cAAc,GAAG,SAASA,cAAT,CAAwBd,KAAxB,EAA+B;AACzD,MAAIe,YAAY,GAAG7C,SAAS,CAACC,MAAV,GAAmB,CAAnB,IAAwBD,SAAS,CAAC,CAAD,CAAT,KAAiBE,SAAzC,GAAqDF,SAAS,CAAC,CAAD,CAA9D,GAAoE,KAAvF;AACA,MAAI+B,MAAM,GAAGF,UAAU,CAACC,KAAD,CAAvB;;AAEA,MAAIC,MAAM,IAAIU,WAAW,CAACV,MAAD,CAAzB,EAAmC;AACjC;AACA,QAAIe,WAAW,GAAGzE,OAAO,CAAC0D,MAAD,CAAP,KAAoB,QAApB,GAA+BnD,MAAM,CAACmD,MAAD,CAArC,GAAgDnD,MAAM,CAACmD,MAAD,CAAxE;;AAEA,QAAI,CAACc,YAAD,IAAiBC,WAAW,CAACC,KAAZ,KAAsB,CAA3C,EAA8C;AAC5C,aAAO,IAAP;AACD;;AAED,WAAOD,WAAP;AACD;;AAED,SAAO,IAAP;AACD,CAhBM,C,CAgBJ;AACH;;AAEA,OAAO,IAAIE,iBAAiB,GAAG,SAASA,iBAAT,CAA2BC,OAA3B,EAAoC;AACjE,MAAIC,SAAS,GAAGD,OAAO,CAAChD,MAAxB;AACA,MAAIkD,cAAJ;AACA,MAAIC,eAAe,GAAGH,OAAO,CAACI,IAAR,CAAa,UAAUC,IAAV,EAAgB;AACjD,WAAOjF,OAAO,CAACiF,IAAD,CAAP,KAAkB,QAAzB;AACD,GAFqB,CAAtB;;AAIA,MAAIF,eAAJ,EAAqB;AACnB,QAAIG,gBAAgB,GAAGN,OAAvB;AACAE,IAAAA,cAAc,GAAG,6BAA6BK,MAA7B,CAAoCD,gBAAgB,CAAC,CAAD,CAAhB,CAAoBb,KAAxD,EAA+D,MAA/D,CAAjB;AACA,QAAIe,OAAO,GAAG,MAAMF,gBAAgB,CAACA,gBAAgB,CAACtD,MAAjB,GAA0B,CAA3B,CAAhB,CAA8CyD,IAAlE;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,SAAS,GAAG,CAAhC,EAAmCS,CAAC,EAApC,EAAwC;AACtCR,MAAAA,cAAc,GAAG,GAAGK,MAAH,CAAUL,cAAV,EAA0B,GAA1B,EAA+BK,MAA/B,CAAsCD,gBAAgB,CAACI,CAAD,CAAhB,CAAoBjB,KAA1D,EAAiE,GAAjE,EAAsEc,MAAtE,CAA6EI,IAAI,CAACC,KAAL,CAAWN,gBAAgB,CAACI,CAAD,CAAhB,CAAoBD,IAApB,GAA2BD,OAAtC,CAA7E,EAA6H,IAA7H,CAAjB;AACD;;AAED,QAAIK,mBAAmB,GAAG,GAAGN,MAAH,CAAUL,cAAV,EAA0B,GAA1B,EAA+BK,MAA/B,CAAsCD,gBAAgB,CAACN,OAAO,CAAChD,MAAR,GAAiB,CAAlB,CAAhB,CAAqCyC,KAA3E,EAAkF,QAAlF,CAA1B;AACA,WAAOoB,mBAAP;AACD,GAXD,MAWO;AACLX,IAAAA,cAAc,GAAG,6BAA6BK,MAA7B,CAAoCP,OAAO,CAAC,CAAD,CAA3C,EAAgD,MAAhD,CAAjB;;AAEA,SAAK,IAAIc,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGb,SAAS,GAAG,CAAlC,EAAqCa,EAAE,EAAvC,EAA2C;AACzCZ,MAAAA,cAAc,GAAG,GAAGK,MAAH,CAAUL,cAAV,EAA0B,GAA1B,EAA+BK,MAA/B,CAAsCP,OAAO,CAACc,EAAD,CAA7C,EAAmD,GAAnD,EAAwDP,MAAxD,CAA+DI,IAAI,CAACC,KAAL,CAAW,MAAME,EAAN,IAAYb,SAAS,GAAG,CAAxB,CAAX,CAA/D,EAAuG,IAAvG,CAAjB;AACD;;AAED,QAAIc,oBAAoB,GAAG,GAAGR,MAAH,CAAUL,cAAV,EAA0B,GAA1B,EAA+BK,MAA/B,CAAsCP,OAAO,CAACA,OAAO,CAAChD,MAAR,GAAiB,CAAlB,CAA7C,EAAmE,QAAnE,CAA3B;;AAEA,WAAO+D,oBAAP;AACD;AACF,CA7BM,C,CA6BJ;;AAEH,OAAO,IAAIC,sBAAsB,GAAG,SAASA,sBAAT,CAAgChB,OAAhC,EAAyC;AAC3E,MAAIC,SAAS,GAAGD,OAAO,CAAChD,MAAxB;AACA,MAAIiE,mBAAJ;;AAEA,OAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,SAApB,EAA+BS,CAAC,EAAhC,EAAoC;AAClC,QAAIQ,gBAAgB,GAAG,GAAGX,MAAH,CAAUP,OAAO,CAAC,CAAD,CAAjB,EAAsB,OAAtB,EAA+BO,MAA/B,CAAsCP,OAAO,CAAC,CAAD,CAA7C,EAAkD,GAAlD,EAAuDO,MAAvD,CAA8DI,IAAI,CAACC,KAAL,CAAW,MAAM,CAAN,GAAUX,SAArB,CAA9D,EAA+F,GAA/F,CAAvB;AACA,QAAIkB,SAAS,GAAG,GAAGZ,MAAH,CAAUP,OAAO,CAACU,CAAD,CAAjB,EAAsB,GAAtB,EAA2BH,MAA3B,CAAkCI,IAAI,CAACC,KAAL,CAAW,MAAMF,CAAN,GAAUT,SAArB,CAAlC,EAAmE,KAAnE,EAA0EM,MAA1E,CAAiFP,OAAO,CAACU,CAAD,CAAxF,EAA6F,GAA7F,EAAkGH,MAAlG,CAAyGI,IAAI,CAACC,KAAL,CAAW,OAAOF,CAAC,GAAG,CAAX,IAAgBT,SAA3B,CAAzG,EAAgJ,GAAhJ,CAAhB;;AAEA,QAAIS,CAAC,KAAK,CAAV,EAAa;AACXO,MAAAA,mBAAmB,GAAG,6BAA6BV,MAA7B,CAAoCW,gBAApC,EAAsD,GAAtD,CAAtB;AACD,KAFD,MAEO,IAAIR,CAAC,KAAKV,OAAO,CAAChD,MAAR,GAAiB,CAA3B,EAA8B;AACnCiE,MAAAA,mBAAmB,GAAG,GAAGV,MAAH,CAAUU,mBAAV,EAA+B,GAA/B,EAAoCV,MAApC,CAA2CY,SAA3C,EAAsD,GAAtD,CAAtB;AACD,KAFM,MAEA;AACLF,MAAAA,mBAAmB,GAAG,GAAGV,MAAH,CAAUU,mBAAV,EAA+B,GAA/B,EAAoCV,MAApC,CAA2CY,SAA3C,EAAsD,GAAtD,CAAtB;AACD;AACF;;AAED,SAAOF,mBAAP;AACD,CAlBM","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect } from 'react';\nimport chroma from 'chroma-js';\nexport var getEventPosition = function getEventPosition(location, container) {\n  var x = location.x,\n      y = location.y;\n\n  var _container$getBoundin = container.getBoundingClientRect(),\n      width = _container$getBoundin.width,\n      height = _container$getBoundin.height,\n      left = _container$getBoundin.left,\n      top = _container$getBoundin.top;\n\n  var leftPos = x - (left + window.pageXOffset);\n  var topPos = y - (top + window.pageYOffset);\n\n  if (leftPos < 0) {\n    leftPos = 0;\n  } else if (leftPos > width) {\n    leftPos = width;\n  }\n\n  if (topPos < 0) {\n    topPos = 0;\n  } else if (topPos > height) {\n    topPos = height;\n  }\n\n  return {\n    left: leftPos,\n    top: topPos,\n    width: width,\n    height: height\n  };\n};\nexport var throttle = function throttle(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n  var time = Date.now();\n  return function () {\n    if (time + wait - Date.now() < 0) {\n      fn.apply(void 0, arguments);\n      time = Date.now();\n    }\n  };\n};\nexport function isMouseEvent(event) {\n  return _typeof(event) === 'object' && 'pageX' in event && 'pageY' in event;\n}\nexport function useMouseMove(handleChange) {\n  var interactionConditional = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  useEffect(function () {\n    return unbindEventListeners;\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  var handleInteraction = function handleInteraction(e, isFirstInteraction) {\n    if (e) {\n      if (interactionConditional) {\n        var x = isMouseEvent(e) ? e.pageX : e.touches[0].pageX;\n        var y = isMouseEvent(e) ? e.pageY : e.touches[0].pageY;\n        handleChange({\n          x: x,\n          y: y\n        }, isFirstInteraction);\n      }\n    }\n  };\n\n  var handleMouseMove = throttle(function (e) {\n    handleChange({\n      x: e.pageX,\n      y: e.pageY\n    }, false);\n  });\n\n  var handleMouseDown = function handleMouseDown(e) {\n    handleInteraction(e, true);\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', unbindEventListeners);\n  };\n\n  var unbindEventListeners = function unbindEventListeners() {\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', unbindEventListeners);\n  };\n\n  return [handleMouseDown, handleInteraction];\n}\nexport var HEX_FALLBACK = '';\nexport var HSV_FALLBACK = [0, 0, 0];\nexport var RGB_FALLBACK = [NaN, NaN, NaN, 1];\nexport var RGB_JOIN = ', '; // Given a string, this attempts to return a format that can be consumed by chroma-js\n\nexport var parseColor = function parseColor(input) {\n  var parsed;\n  if (!input) return null;\n\n  if (input.indexOf(',') > 0) {\n    if (!/^[\\s,.0-9]*$/.test(input)) {\n      return null;\n    }\n\n    var rgb = input.trim().split(',').filter(function (n) {\n      return n !== '';\n    }).map(Number);\n    parsed = rgb.length > 2 && rgb.length < 5 ? rgb : HEX_FALLBACK;\n  } else {\n    parsed = input;\n  }\n\n  return parsed;\n}; // Returns whether the given input will return a valid chroma-js object when designated as one of\n// the acceptable formats: hex, rgb, rgba\n\nexport var chromaValid = function chromaValid(color) {\n  var parsed = color;\n\n  if (typeof color === 'string') {\n    parsed = parseColor(color);\n  }\n\n  if (!parsed) return false;\n\n  if (_typeof(parsed) === 'object') {\n    return chroma.valid(parsed, 'rgb') || chroma.valid(parsed, 'rgba');\n  }\n\n  return chroma.valid(color, 'hex');\n}; // Given an input and opacity configuration, this returns a valid chroma-js object\n\nexport var getChromaColor = function getChromaColor(input) {\n  var allowOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var parsed = parseColor(input);\n\n  if (parsed && chromaValid(parsed)) {\n    // type guard for the function overload\n    var chromaColor = _typeof(parsed) === 'object' ? chroma(parsed) : chroma(parsed);\n\n    if (!allowOpacity && chromaColor.alpha() < 1) {\n      return null;\n    }\n\n    return chromaColor;\n  }\n\n  return null;\n}; // Given an array of objects with key value pairs stop/color returns a css linear-gradient\n// Or given an array of hex colors returns a css linear-gradient\n\nexport var getLinearGradient = function getLinearGradient(palette) {\n  var intervals = palette.length;\n  var linearGradient;\n  var paletteHasStops = palette.some(function (item) {\n    return _typeof(item) === 'object';\n  });\n\n  if (paletteHasStops) {\n    var paletteColorStop = palette;\n    linearGradient = \"linear-gradient(to right, \".concat(paletteColorStop[0].color, \" 0%,\");\n    var decimal = 100 / paletteColorStop[paletteColorStop.length - 1].stop;\n\n    for (var i = 1; i < intervals - 1; i++) {\n      linearGradient = \"\".concat(linearGradient, \" \").concat(paletteColorStop[i].color, \" \").concat(Math.floor(paletteColorStop[i].stop * decimal), \"%,\");\n    }\n\n    var linearGradientStyle = \"\".concat(linearGradient, \" \").concat(paletteColorStop[palette.length - 1].color, \" 100%)\");\n    return linearGradientStyle;\n  } else {\n    linearGradient = \"linear-gradient(to right, \".concat(palette[0], \" 0%,\");\n\n    for (var _i = 1; _i < intervals - 1; _i++) {\n      linearGradient = \"\".concat(linearGradient, \" \").concat(palette[_i], \" \").concat(Math.floor(100 * _i / (intervals - 1)), \"%,\");\n    }\n\n    var _linearGradientStyle = \"\".concat(linearGradient, \" \").concat(palette[palette.length - 1], \" 100%)\");\n\n    return _linearGradientStyle;\n  }\n}; // Given an array of hex colors returns a css linear-gradient with individual color blocks\n\nexport var getFixedLinearGradient = function getFixedLinearGradient(palette) {\n  var intervals = palette.length;\n  var fixedLinearGradient;\n\n  for (var i = 0; i < intervals; i++) {\n    var initialColorStop = \"\".concat(palette[0], \" 0%, \").concat(palette[0], \" \").concat(Math.floor(100 * 1 / intervals), \"%\");\n    var colorStop = \"\".concat(palette[i], \" \").concat(Math.floor(100 * i / intervals), \"%, \").concat(palette[i], \" \").concat(Math.floor(100 * (i + 1) / intervals), \"%\");\n\n    if (i === 0) {\n      fixedLinearGradient = \"linear-gradient(to right, \".concat(initialColorStop, \",\");\n    } else if (i === palette.length - 1) {\n      fixedLinearGradient = \"\".concat(fixedLinearGradient, \" \").concat(colorStop, \")\");\n    } else {\n      fixedLinearGradient = \"\".concat(fixedLinearGradient, \" \").concat(colorStop, \",\");\n    }\n  }\n\n  return fixedLinearGradient;\n};"]},"metadata":{},"sourceType":"module"}